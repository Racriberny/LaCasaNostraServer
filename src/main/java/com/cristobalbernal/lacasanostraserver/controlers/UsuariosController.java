package com.cristobalbernal.lacasanostraserver.controlers;

import com.cristobalbernal.lacasanostraserver.entidades.Usuario;
import com.cristobalbernal.lacasanostraserver.repo.IUsuarioDao;
import com.cristobalbernal.lacasanostraserver.util.Log;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import java.util.List;
import java.util.Optional;

@RestController
@RequestMapping("/usuario")
public class UsuariosController {
    @Autowired
    private IUsuarioDao iUsuarioDao;

    @GetMapping("/all")
    public List<Usuario> getUsers() {
        return iUsuarioDao.findAll();
    }

    @PostMapping("/add")
    public boolean addUser(@RequestBody Usuario usuario) {
        for (Usuario user: iUsuarioDao.findAll()) {
            if (user.getCorreoElectronico().equals(usuario.getCorreoElectronico())){
                return false;
            }
        }

        usuario.setAdmin((byte) 0);
        usuario.setImagen("UklGRrQ2AABXRUJQVlA4TKc2AAAvz8KzAFVpnv9/mRzJye6WNMzdgioNdfdAc/cwM4+6x9MMw9jqHmaeHTcMc8MwRU/PNgwzM/PMNqqZWyphl7CrWuGS9HuypipTT/4MeehlqIPMnBGLeXWELsuQ5rka6iSzPWqzteZlUIRPFfFcpiLKdGRa6P0DmJ5DnlpeXu2hNqJDZlrMP2BJFeFT3drXvZqZekLx3GqWd2S2K6LMXt6TaUkVoesyr46GWZSxHT3P8pptGY6LZruPhsU6LCkizWxfK2Ju0pitjHAeFszMbKeZl6HMVJe5dhoXtCeHoo+dETIsM/U44mMow2ki0nT0Xg3Lu8aqkxzRbW7LnIqovbnMuAyPmVoHM6S5vbdxmW2NuUdXlXHSzGzXxVAGmWmWd82sqGgfOhS6MGwbSdHs9V/o/zHz7jmMJLdtHmAGAwDS/Xdqof/QaGvLYZ2X66M0a3AH9Rbq/VUEoM6i9h+1/6j9R+0/av9R+4/af9T+o/Yftf+o/UftP2r/UfuP2n/U/qP2H7X/qP1H7T9q/1H7j9p/1P6j9h+1/6j9R+0/av9R+4/af9T+82xUUERQCPAAPB4KAAUe8oPyP8r/UH9qUHlSv/7d3JLFmGLnFqGvcHbj1OAUrhhQUmE6fGUBueQO6nbiUq7eaOeoqd8CAiNXEkB5UhgYj+nolw8y88ijDt/7sK1vvY7NlpE3yuBJNpjWnz3hqa7ofz/h8KN/wYPs/GmuMgrlyfPmjBnU06sH2GgsplAWAaDTmEyjrzp07RtMc9X+9KC1W2tZz5Nhy9BlEFGUYcqwKhCTKIp6R8B/78Hoavx+/G//as60E4BkT0QBsNFOLbFborzxAcljC400yhBZVuFOdu0ymE0vw+mG32KGLyl5t9ZzGM9l3V2ru3aDwd14BWIwGAKCdFXqdOng0tuCs5u7SruvcKRZxxaejj7AW8Fc4MG+CH3EA2QpCgCYTLCnVQdLe3lGu5Ynw5Bhd8N3ifnyubTn1maQcmnT6bIb57szzii8U6dLkAx1JX6J2Vs7hMjutQ4S1552m/AxgFYWurg4ZywITEcBHOfQUK2vJJxFzyu4unRrr7s2Q1BO7U6n1dqduU5fSKLV6nTGBRkMVRbbrwwqZD13Jf4M1caxLwFl8RUCGTlqOGYpjg840TCt9+VMhitkuXep3t20G6QcxpxW3nk8Et7q7Jhg0C7NeV0xuHerw/SeTxgoDlg4GkhBkIegDAWueO+rri3urOeJ7a1pks5pdR7PxerUSWnWbNuFDmtx69V448PNhFSmfRR6sHupQKEX2+992cFEGTzWzbrkdPJOPxLe6ZQiY2V4wrKdDruk4AO8KeyhVC+clGkVMKXQFutMEhY9n9uvbsZ1Tj+Xjm7G3H5fzLj6dptrMpkQZkzhqB0hJRRQkGMLYyy2u9BOm8AnOv2BJPIJ2jri3Jtrw4OBiwwpDKJypN8hvCW2P0eSsOTokTm1Of2RxESmiksoPvTsXghEpdM3ogqAWmIfp35tfZL7b74N21qeJCbyPpKYaC1PnL4T3ftN0i8r2CinAvFRtG1uK0wqlKds/aLWlXwxxlutTp1OMqSl+aRFBuSyXp4EBBgMaWkGSadzWq28L0bcP13UesI685qUgVbpNI0iD/HTETDCaM1ccZL8BwNnTJAhLS623aKWR8uwbKIoCqLgI6IgiqLNEX0BSbFxaYagGKf8hwgpztVl+FlxIfFz0rPolEIITP1orWnL0NppefmOB7wzp3FDWg7tSyi3a7kuffCZWt/wOvzZUJAt5PGEu+lt9Fn2O8uBdz7kzoffKeETv+kFb+QUT8hvMM51+PWGrWcaHOioFdHAYAiX+6CibRe41rLzC+E1c7TM2wfDfnddSnBXnHxL8dmtS2kNFtdusF6Ty9iq3dlImvd32MOTCJWigJyy8CSCQ9+8m9E2kWW1boW7hOCaDQxSYzkXinMtJfp+V8YHo2O+7NMqwtbaEBfXXCvnCUqkNetx0bVMbQOlvdPej8SpOAEAvCiKA63aZpTLC2OxxPuIxVIuj0xG21b3+qQAUPvonIZrbcC8lqnVJc5njZTzdEnbQtxqG5jRTsGIR6mHteUtQ+3OWK7f5fopf7iYRU8Xo1eUdKtlHP4kL/rKAkBJRKgxI/6pOTlPVDjuqeMzjKEl8QGYFnGEm7fV+oriqSXDWNS6OYzLlwx0UR8j8DOWekA87eIO7ZjoUg/JbPXkirHWLtVfjWN51rbZx3GZAXgqFBQcj7K7cPaMa08AMDbTNvrsybtDs5RwtXLFntez9Zh0QmbY75B29UfeqZ0MT8vLM7aE8kxZ7uu/rEPdDKCV5XibTM6lZBQhADjUzv2XfaYyjIj3K8cIr5XhtTvySbDTrBjwqFAccOWu5S1qPTnC0GmThIZbmXNCATAN4De5AeyWaRDAxI+23sdSgwsRWp0cQVxArdeB0Ch61RdE4EZci6/3hHLs7E1MqdusrbAAIZXiC4HMfiSFH+Lb3gFmO6PaY01N5PgXPeG8rhtBZVrV3aEHMUaZ1ZEkOZnI9WuO3zWRmx/TjGnxeQg8iPxYezs/+GZQFLH5NrrhF/zYf585qibJ8XtxX4WJ6FRipB37GsW1xPwuinluU1Oetse57DPmD5JcOJ+RfMJ9ty02zWUu8ycuKV3HPlZDCpXCA4GDrxycxNjrcv5u69bf0U8B/IumNJcC7GOX7PHacv6qY+ySgu8cP4lKxXcfe3PW82rm0sYYkddOGKxIUYG/UipNj8I0gvXUJd4eY5AJNQOOfZlCxX+3xdRC3QULqMfYdy1+2j3PCi98/ktdac74MgrY66rZ9otx+43x+wV0F2882tKm3LalFa64t6AyeC7jTLHSCaZeiuW7BC7d331BDvmYe8tqS+CdZHH/NWyFQVGavspUidmKEKH/uESmcV1i4LrLKvsCRrM/FCPQb9mBiTqmUWEgP1HsxWxUSfcJO6pNhprAM/SxwpbKwAIh/vRLfmdspQ4hlqHjE/7TDmuHnSKRgiPupMnUMfSp4i56RzEFf6tGml6MgF22JqYyfc9MzfUghR55KkPwJLg7u0eJqbftoVcURvhjNX/utrHHWV1MnXSPL6Y4oowCLfIzZxQGCcvk/jtDv5Rgtr31ikIEf536HZWMMx7F1oSh+1ymv43ChCIvaFGM995mFZ6BJ/dLc1fY7WioHOXvVVR2N5rwgOSOfwZhb6NSotjv9A9Y6NGS462ZSyt5j/7vwo5bR+hZmf25nFUodtK6wJP/ez9XzdRZP2A6JZrnYJiXIEPfTBbMqQBZZLnbxmaz6BMYZtkGCRuzUaHP2t8p4n/nidR2rCMueAIKkeOb80RgnXE76jEcj2SQA+xCgT6KK4GvZY/Os+1LDrFe5HKjeb3vDApyupF+Bi9gedEjyZ0UsBzn8FTg6E+U97C1690/J4fQrtGYnJCiON957EsB7cgB/H399nJHCu1Zxlt9Uz5UnV5H5L8Le+kVRrPCiBEvVchuHvmfOKnqVBLeCum0x33jaYrvl3yqYRrUT1xlEYTicP9Xies2kbWv3q94rpTHuRLGYo6M1RH7ud38LQ5605UVK0W0OIWbs7klsrbK+Y/1MqjO4L7wqC437Qwx3vsbRdHSUuKxv1VM5FgdrWvAsHFfFIdrx5kwx3RrnZxJ0TZwXHjNCqchi3fo0JJoXCVmDGZcO72hkACDhiXDeTjyZWBEgUfeKhROFyn97As8RCTpyINB08Inojh5u8YVrpVJXkbYSa2KqLkRjx23JpDj3avUysdUFkFt8nyFYJNJRC05GWX5zuFJ4BSPQoRzxfKdBkjEgbjJIgihNUmSbzqlXR1iYXa5PhdGXxXfwqyA8i3waoQPRyyir06dgi/eNEdnMGIHveuJw09Ra+VWcblzKmRxUJeLlZtTK4g4EHY4OoxUhkJEF4+etJ4pUbEuh76mA96qqPuvEQc8xfQMRLXCe+zJKC4+mc5kHzjQzrZnILpH/jyY51RQTVkzVupOJNH5GWwfmc4MKqH/uDUPRyKndhlk37so7t5rxL5WFuJIPJzmAVCJxvielmJq0OKrN9QR88H2rBUXf9uKym1fPDreo0TMNbn4+gpI/CeOvmDBCKMJRN9aYcReYVHkdTD8aAzrQD/iaLDQF6KwKn+6ei+IJ8TORSzNWbEXpRQ4BT5GneKVZkYQYiz5oDb/H1H0RUHVW2GCy41iG5POlW1581Ts1JMQDJ6WjXQN0Ti20YQMi52+TO+0dYF4vyE++OiXFTtHSgqOdlIwcSVohZ21Dgt9mV61P8RpqdEK7EFRwKzQ0gp9WWskESdX4w91mfxEM07+UC1TR/R957Ao+mFqh0P0JM+6zKZTCM34iWhLGvueZxOIGaxiAyZieggFV6ZreyETCjWKJa2HOYS9zAYjXeHRMFCcGkOF07y71lqrtUvxzyuisGq3IwMIK8KgGSguFFBMVxJx5lkgt7aahKTARDfrws5GR4biXxfvdHQhMpGQSFpz6drOUPwFR1eykx/tcHAD0iN/WbuWNw4z7Iq/Jh6tjbWjs0JpEPwzYacpZGD7dQhpFf4K81LW8/pwigWLCBSdQuAF0YfRbPtKFU4mpok7aB0ZNIV05Ik72F1rhVjTxC3loQyimS3YfBVTmrVCAoL7jhvpNMXFk6gMwl3bvHHEwmsOfIoyiMUw4sA7m0i6UOHNc/9WmjAPR1NcjskcTUoG1E3f8CoXVgL7LFeKwDUk3voiMfpYzLDTFJc99KJP4wnnFN2wr84vKIWHGQ3Fat1pTTj34tP0e+yFpjgYsbGyZDgGK8lla3Uoh102A1utQ6xLWBkGR944qEpKDlbitYNEdNn/LohXDvnO9r+yjbgyOnxbFJGPnvgshWgVSywgIbbZ5EJeFJxSWBtPeqf3SEpqj2lX5ZpLEjh64vO4zMEkn9IF9GQNnZQD07woi1i+sQsgDfjgMQ7BTk9cRl7NFFRhZzUE9x8W4pVFRvf+4g42VOjAB5lGGYWeOGRgG1XEuiSfwjCtK4sYDAuGrl1II6yOuvpttIkMejIxcFzEH+AAYV+rKgsysK+ZherEw9XAadOTievHCt3Jeh5BRUNXJcv1q2+pJHZYe8sxhFtX0ZFKpfxDKKSYlixZHHiQ2jVyGndWSJ0mF/W8OSWxPp73RTWsQyCuhnTie+UoybSXwkSCLpk60pK9e0MrZUEr9GEOaUFdZouJmeo/NR0hBUc97CD0VkNYP2Erj/NjO/oJK8xgJXSOo56EFFpSRMLoq4lEJVXTkHkqj/iLDAxZJllVVdjHLLDQEfKDsNPeTSStEYNpx7XhlpTHCtlh6wwrZGe945boCPkf4f5saQQCxL2PDIvyOGCNNosYQIqPt22pTtwNLUmWXG+aLgJOSVQiD4wUj8PtJEpOAq71pUlLEnI8wFi739EGAvxcV5+sPLwkj8HchiddIEevI2xqkpCDVfiT5V6pQnQNk6YAlaFQGkUgfaJp6Zv8IamhrkKkbvit0h/MSUeScVqhZ6fNJII+6O3l/O26iyvmlMYaeZBWPCkhR+rSizO04qgI0yh40edm7+LaiyNkeK26TOvJxQjKg1mmIyzDWtVwwho5ydK14a7pCMUJJSlSZyf9+p5pz9bKAkrlDKwnayeTSAoAJ1i4Nh1h4ftv3qRCeKn91YFTIqsEK7anPUlBq2GNoogHoSJ8ov80uYCkNpIYNNfqw1EurN7vuYISCYojc08OLqPiE9ERNagJhLOeV4WAu9boPGFDiWgbfSKs0++ungcQqJL1vAmZ67elIlzxOMxZjxOwPiv6DVOZxC7bsa64owOsBNrnE74QOxUh+VStu7WvIyn7yaMqF/qPO8xA4grvKYSScCxJtZzZrZMYLC3lwiBxBRPo6JzruMzJdAQc5zIDg8alXBg4bjKtj8uJkpB8HE61nMSJwbwoFwaOi87wweYiM3BYyoUBwyaS2PpUlISQsZmz3KvEFlu3n+TF5nu0K6YjeFNMwHgP5HjvPGEql3jvtYfThinem4pQ8NF9TvLoAojpkm3WGI5ySZdcgz+1iOmSXSZ7fJ9UJF2SK00R3yKTpDdSd6VelQtXl+U+kt5IkxZtS9PHURFK4itBUSeVqNfXi1HlotfXizlnStLrmz31HkvioyMUx3dnOc2tQSh1OqHFsqyjk/LQu+6EL94igZDDocYcd/YZ6AiztFyO1cWMJ5GK88ph79su8UJ50KU4kOu3GnGEI9bMy7He8rqpCNdvxoq8BkiEq72GqVOBZ1AahN7MlECdhoQrZClgxV5hXsRMRQZYoz9tiLHL2bbne6w8tOfsIeM+bk+MkW+zZn/A0ZJyP363DEoqJyFcmRRPl4Kj3GQLJ5X7oXkAGOkIGcibhFQuEx8kw3hCZVIu0/5mFogF+tmGyEJLymW6G2ynCbl4OnE3vSmTcvNOIZLLzRu6dVqCBbsZjUiaaZulKY/d9W6wtTJMaUR2NxostIQD7ioE8QQc64uiRMrpZSjQL0g88C60BDu+YlhjJ0ERqtaa/ILyiPfGGvyuRXrWMT76OMy0pNy89DKE60nK1BEWm7lH60ojYZIrRrjiHo2SimXSZUZMIbiZgkSU5D5E0xC86MttrWocYX/t3Lzwi9L4lAUnLQhq3pn0/1116da8KH4hZ6YkXVlgpf7MR7yhcVfvHuuQsjifsGM2G2me1A2/lbkDn56WOAwaF/mGxjL00VZVHvfxfGo9+fbPg6YFOy1hajC2VYaeeJ9lcajSlUX8hQXPsgyRfJ/lbdWBq6cnzwC719VkWKT0P0PwgGEpj/vgPwDpcJUYYBt5VhjpycQxOAXn+I30nBLZ9n3DuFzlwILo3SnxjSZPGTwbPZngyiBS2i05Ph3pHb8jPB4pB01VrrSCh0REKnFttLPPwNESFjHjDRN/gXWuI96kHDT7UnCEm1064tGqD3dgpicSjwHiDiZqjgi77F1ZPIfVznsXiFojwQOFiXia8lDo2yudvMu61h+nsviz3rRd5H/u7dUGC015TrYDrmySiA+u1JvZMCsFwXu8AOLKsB1oFRjpCQUJM07+mPikErrMLpMI11cCBcZ8Ii/CxOCTZXYkrouzm/GzUpTnJu2Enpw2IxQYw88h7Hdm5fDcpPteVZiDsCqkC+jZKjpxVMXjZ9SQHNJMmyuiDDxm4OOaiKtC4yjnk6Y4DN87KUcVL3VYsTtKwQErsqeDRNIaEUcYDUaaQgqOcVnTgBTxfYIuD/KkCl+46VN747vTZsQ3tm6gOTonpFCV5/avfeI5moeTXmNCHG1WxZ80YpRVRTdtxMeOzmVuKaA2TXExm9OxrrjDDMSHyB08CYyKz8aSOIgrIuyLId1MVcjALnsV0njS69g/IBT9ZvjcNBTJPRpbzLikFxMiJpXSE9W+43CKtjqJp8k/BHZFv5D4MjKcBqT1YI0+7mXYKctbRN7EQ3SvrUU46XdY/PbIUPTpP0Y8TiW06N7YhdzE9Ztpy4s2rTeKgxzoKuxR9BcTisJK3OmGf6S3BDE4bgRGM3Vh1FFE4ouHxb6HCYUfQqEDtbccX3i+WNJb3PwlcbRV6QuhN2NZqLOO+KaDO2tNsdXoLLg4GbqWJ+UhSPJ48Z3pS3Vbp2NN8cjwSK8xERSp4JMLYiVOs9wbRHrRi5i1hIV0M3UhAzsfXXCzzjsrvAns0tzrWt64zC3tihzLMwanGGtj4kHq6ZFBYWq4pWU+plpW4ovLCttrHbekyNOXILgb40mvLTtXPuGWdjN9kSis0u5I4pueZtvem1G0UlgKP7p49KyN9N7ffFCtVXpFlJnCYMEVkd/EN8d/ZdiHuVlxNUPjccjNtjieOP3uYaExeIAfYiLhrOcRNelau9afFuyK6zJoWhrSJYQudlHrTizsTR+dqbuZwg9Yg9sxpEldndRCoDL4OAVNI/1PHkIRS0pPR5qOWUM4mM1MZbBgd6PqGWoaYLjRYFTcVzxl+P67H03Vm1bkt/s3L9VbHXJNMPSkVUHre4O7+LKI5Wkl1wJDnUzzKThqUylVG0rT0ZpcUxf7OUUxB0bscxUxzkkg0rHhvGCnNxUiePjDLp60cFDYmtwGp4gUUoTV+R0TRKzndtcRdkIKreH6W6F3Y1cvEWjMhx2NMwqAFXF4pJs0PGkY1OjXodUiZlojt4Theid7fjhNv34q4oBDP34HPxxpqNUP3xtuieJUIt/CFz9TDeI5szX4mJwUr4ZZ/hqOflhjJV471OjOmOeLhTmqU01xmy8iRhIHrgHCUjyFulD06xdx6IwUt1AFdqpTT3Eh4wl3OAEp4MZVwo7BSdG6ggJ8mjCiNpbuBHUnEAqpZKY58tT43eSaMNMGr9VvRVNBukOs2a0wLfnANEDaaGumOhhxtJM0iU5iBnPTgU6BUbG+9gF2NjVwkkjUHP0kPBrtqVdM9O13sJsxJ/F1jvu0B8UICjQaNQt6N9pBIlb1VnDf4YAzUx4q4UibHU5ilclIwoi9KlIySgqGG12QiF/aqTkSJ/i4U5/B/YURnXNYX6jdLSlObc+me6so8CIi4tRE97C12e0zpD48Go50kstKrjlG22Bh4rMqTlbgv217v+SmtnEd+XI5dwo0eH0urZMk2fW1HWRl5AcrBifHQVYST0SuNUfXwF7wWalQvRbjSTtkNiYucrKlBy/zvkvhFOP5TUsRlh7uySQSjTM7jMeMdDMNkhRsMon4uci1PWvacJrg7lABYrw5bCiKyf1TcrUWi5tKAymUqJmCpiXM2jmCoY62xVFnUYTIbyNGm1XMoc1JQhfRedaPxJlpUcVw77pVvUTepWvUnITJ/2tv2HGn89YgN4qGpB+uVRjNlIjCL06JlVltoyXX1XL0Cv1BSQrOnx+LStKHFfkTU4/8Vdv05QwX7zOkRoOfqZmpMUO7CqwvL1yuv65VvigzHl8k941nch35JqpU8f2VsKkkwqnIzs8QuP3SURDkj6vu/P4rY8e163PoS64SbnetwqbiQCWq1HJdpejzwrdM59n2lRiqVl4cZRakFCbyx8ehN2Raqn86sqerX7a1ygtzZpokHgIcYmdHt855cpcafbCT/W+XnxiHWjlseh15WMVxyFMQQpsaYwybT0Nfjzzr3Gp2OPxm2O/QP3KhKTjySe+hhcTQDBoy9C0kQTp1aiu32ujTaQxD5/brzFd/mJPhQfCH3VnZ0eVMq52QoY/pyx7U5sy0SSphPKas57U7tZMo4S3a7H8VFCL4u/2bC8VBV37O1Rj+YU/d7j2cg88y9EmMGLkXfWOeoUty7Ho0eCr4sz083RMf9rhaWE2Gcd6pH3k2nxQcCsWcHDadJLAeUxMZNRE31SbKIoz+yZdxOgK21EVMlZwM8wI3kwe4OelUcxN6grCGcByMjWPDC6suZ8pHiEr3N3M5FBRaUzn67ozpmHrHO8NN+MIT9akE/xIvuvfWtby/5GQQt8+C6+x1VSDeX+zoXHxL7GOXpUXXuH3qZJAvdP7dh1sC8MaXTq+anBATM9pdAGPjMmlPIuQpa0JhLHByP6/P89CTL4yzG7AsseoXcjKNX0CdiS/DbqZXYsQLeM7Nw51Mvn6R6wK22kfRF6hvT/fTI47dCx+KP2ynj6auE+mYm/yq0dEOw2imWZKCg60cnCQ5GWc2FJ5q600mYwDpfnZBeofPLRn5GUONkcOaODtzM9BJC4UdfOUKxymW435X1SyUIEdD/UUIzQbuK99lzOZHXdRsGP/yBtqsKp5Eq3Myji+k2d+usM9Ju5qI1YMI/y6s5gnlaUjFTFubUXvFZ/UbChJj1FEiTQ3laRjIejXD9rsK7vzbmWmXRN05DrFz+9O+X6eT2UNaDfHgt8DuN0eag98s1kjTOZnF/df3UPcQK+HOo8xm+tW1xTFPypThytPWlfzDdehRW0u/qAgO7q69FXrU2qG6PN9CG70078fajLYV9LTL0QOByZh7zm5K0Mmx69fTvxxk+EntlunrydHrJFPPWSdnwk+a00zJJB4/st889ZkSI1aDaVNZ/CJSz4hNZjEZrMwfmSlD7bdub/kQT9NMYmAG7KB3TaPPxYym37j9Yt+Px7rDDmbG0EjzpvGd7WaaJgVBxRA4yk49ZJNhdGuv229MRPcTN1L8Iib9RqOZqD2T0EPSI2/G8SvTtnb3botpHzbdh6sbvlJO7f6POKm1a5NN/iUpfJrmqxQ+HJ7zCpIFNuX9G3xTfZ9RD38TFrbTuVbYLwgAu9+tB29Vdf4LXfNledvtakA6R+0sJaIogHGF2zT2X+Qw1uZFoZXdTO/EWEZhXKFo/zYRnY/5PxnNFI+CDyFjMYf5N8KuPqQS1TPNjJCxhf0flxJip3uMzez/OPmzC5pno3Qxb8QYzP4P1zuhd3ApBR5uCVM9kuH5N2KmFsBoiedo3PLG8oy2YP49rhrQ0Z/pjQTcTlECgBKIazdStcU5o9E8HQVQWuGoN213jNX6M31YE//2p0l0zVW6c0ZDjnBSSQKQ3Mpo5GgYhcD2jPQHATAeeC+zDhxnbmPBQpvUcP+XjyC8yVyCDCe8v7i/5TjCAEoj0jPsHO0KtxOAokQHOXnTWd5wlvsETc0GaUE6/5jPSxeU1qB5sHD+vbuz6TL2v/MdAuhEr4L1CffkAG52uF7zhD2TyfQeYrWGOCfP+898izzvjDMYZjqtyTT7WsPZRatnIlxBsNQp3HjL5bYECoEOsOumy+w1nEgZRnSSJKfF1lgNYf2E5Td82TCDPN/B2VhKk1Kj9THL95o3y35WjQKwoDGeo0YUEhgLgE8PYLyL4UZfW9qdRduZWqu7a/Vx451OpzxoBknbb8pJeDsag1VeK9zRBaRZm8mwxYZry3tnvY/NDKAE8GjGT0SFzm6iZgROdxguW2m9D6s+4aZKaVJjp/w2LmNN0w/Tut+UYzN06/o0qy9sYcYn2Dmmj9ZH9uF1s2N+mgcBZozKsFOehJrLBTCFYOTdPqObNpeY9TyGcOX7HW9sDR6D2S8KgrTjuIc11sa++jpWvlywWc8TbX9poLjf6RSPKrAEDVoTh/IOAIzDvLPWVhdPU0HTvIFBcpYL13e7+8eUoa0nLoT6zZORDhpn4Mfkrb77Uom8UzLENdcITVcXdcetjSEM4B0YjRx9mfMEwBUf+eatD7mBrt4T2jTRGuJ8b5tDjaW0HL8H9hr1CW6G85vmDi35otdogY+dW5ukc1p9+93iDNombWTobfr0et6/riXwBD4zaMqcEgrAgxxkprxZuveuKXd2E0TcweU3DJjqD3imJlu/ec3f0o9u3ZLe8mH7z9smts/UGqTGfKIvZ+iC0qwBoqYHZ3mzfOQHAU5cAExFZnBGj0cnBubZ387rLyunuSZbtQYG3xqfEW8tL9WlpkZs/YY3U+VIJ2FaFX52J6L014OjHN5yGSu2upjhgqOZNc1dq4951/C+/K+V0hpUs5n+0vrrqj0LcIp0yjGDMz7aRQKt9r3y+srK6Ux0NI8zMN2eRe6o6TaCZunWB45rD6vkYwLA+eEuHcoBuNNRV9lIkm8gw9NHR5yb782RiXcmGOKaO8RunQ1c9uirfl/gtcdTixlcvNFTAShOGH3X3zST6Fgo1++GOObLTjmSDqtbz9Rmmv3jvcQj3jQDUBaxoDHFr6Mjzd74ABxX0ifO43dOYw4ZpEOm1ud/mPdVsInOOIOUpBE6386rmQV4AiqRxmM3/kLgO1/c+orwgiZJMsQdDywzqsFCwUJkb1Y3XeTAOxd6BMBTwZ/Y7tdTl6+UUpxwCC5bq2Ol3i5AcLQoTykl0ZdGbWT4S3U0QpXP935LEQBPhMVOGc5vooCWhzlpiDZzh2tyLPSXDL6zoyS+vOiN2KzHRcfPX1fcu5p9HEkATloQlOGfoqE5e0Z6CQKAySTOeJb1pbVsozIcoU2q5NtgE506w19K0sgw3b1ttM7buWIgyhJKDea0/U/AGMxbG6OHYA7bYvuLK3d649tw45prhGz7fc+t9HGYm+4USF7QX0bWcfEZUVcJeCGOzOklrt6dOoKjWgODL4NN9Fk8rrnD8UK33OVYzMB9VqIBp/BtLfMAlhFWW0U8Mjxx0fP9IkO40+m7Pbb8cBMGKGukVSZ5BOAJ/LWy3VMbjTcBwPJkG6mrR61h4lxN/pIh3Jdn8XGGnL/PLUavPJ7hVv9twDyWtiq+/8+ajPvc7y4D1RkhRFofzrexKAkGH3tQEbLcu6KoWylyqJ0fGLhKswJc+XEpGaHfGWh5DE7DTllVPE1FGU7NBuUprPhqtVS3thaqrruufZ/iRYFkTnX3XtniSQF8wu30tszgomZ2reS7cHWSIYf2ag5Txy+2m97GEwLwBNdufGoFSlAqpgBgisejjLLeNHN7K6e3YnDX6sv4Q0nbUCO+t232cQ7lvKer4qTY7wBXvP9T+q67g7CYceMMOt+dqgdoYzuYgnswNniWqzgh0NKcoWhRclz5eoUzfPIf14fTSH1XzztrDTG+SlfSVY9rKnRYZ1n72uUqccVt41XusO8fmIyxzSqXL8MMi9Um+DIqTpsaLTRacdKh+jgapysGXsO1Z9gVVu/7bQO4lJ2Mtpa45xU0C12UIZz3zYwEbWyY+Ejb6HIawKxKB81ZigPAEW8etKwuwtxxD9fRd5d3UpJGiMgT9m5HnUCgBFTpuBRLUQSAqUEjzzpQmtndlWE6murSJN8s3vFT+HjPet4geb114F5vSUUeqWy/GZz9KKeuKh+No4mbdV/45/lwwy+a32HqztiAZY68q4cE4K1gVg7Zu+0ZlRcA5jngrRvPsixtLhlk0fM+tu9mhEdmulwrT2ekXb3wqcZmuFbJXh+LbHf0ZVsVuxbnfWUaaOFpcU1lWI7czjac5AArFyMCbkapZIINLU+v5VUf+uTN1Pl2XeLJfGb45gz+4fiu5QnLcL691mbF2dsrqbak26cjYPKHLXfprK9WT/LV6U3c/DbHe8vb5FAnnwF4kGs3ckpIifYmABz10jb66MmpRjxZg+q+WX1SvZn1DTffx6SPkGxPV2HDSQnBaTZRpZnp9rQJvkm4jmvusC1TW94khzz8pICngtHIKa1M7sUIAH7dFstcnjWNbe5f5Bsdl/DqtyfOPHiR8YXR0q6iBsPFXyUmFhq8jqzn2lK1MfKfHXwKbR2NmNv5RvM88Kle+ICbUHK6clxKuRnJR+S8hTZeqMPR/Nyq65y83EaL1tnWfiN1vTF4q0jhVNAxD0Fp+jAlY8gx79GWqdX5Ih0kVoYnTD9w3fvZdWHAk2CM55RiJuFZABzq5o00yeVd1DTUBmW37pR3RJtpC8g71hQMzJCfmFMxib8JeL7Y1ujzir4Yy6mtOp9tu3CPa8p7j6u9FOD0SlSLmUsx/kLgQfZ5Sn91N9e3sVYPl3/kpZuabnWMaSRwEyql2aKlRwG72L07a8KSo71feccaS9oIhwynj6A7mX3SB6AMoq2RU7qZH0oAwNSPdr3qauKJFueP+xQ6uUdShe6c3RsQla46fghwgJ17DqpvLvdYzMNZu3pXuMSNNTmCJODsC4KNnJI26sP7BI4rvLkmuYOJYbHacLk/rrn+3ez3ViBeNVzIfq44zbNISwyQ5B2TtDVkWDK81aazx1WLSQCtLB7EyjyhNQpYYJ+75Cn7PQgt6knyjrj9Np+QJ+0rxjx2FXBuJWB7vQe4HluSN7kj569Z7tPH/uQxhYBSgD1e2b9Mt914emAioW3P/k/EGLkTqKQGroCh51ABH4HCXhIfjsCl93AC34RWzgQbbabG0Ze3XY9elABEWbiKhjFBnmHkXVedTpjt48sbtLahvpdkRzwJJRF2VY5CoJ+E5C2MoelQWyenBlwNMWDQtA6zE3A6e9uKSSaf4grAMZk3UiRC7qB1tTu4Nt8FsF+l6hadMg0+HP2m5ScVYmvLmQrdRfgIW+7jsYFWFq4ilKPYMlTvuYPrs+0ryTciVRGWH/Wol1GMIl1Vi+uejj4MO0ZYlutu+sq3O0nvQViWtZ307vmA6QgVJ3V7u/0+8dp3P2pPXvVZ7s35u3wjbv+tK4MNMwZC4lW0B/9aZM1pBWbWlm8sQL+8aHvY1RsfSiM8BBWt38dQy5kCo+6ywqRi61yfyTVSOzPw+bwlVcxY4jgzXkh36WrqyROmTjqt0Guwva5S0TM6Tc7yC4FrWVFQoa5cwejqubpN/kJg5lStMEpQYLheNYtaz/1XXp4UjfnFHr3taTfgF1q4it4luLGTz0gfUYVm7p/K83ynb6eZa+ej4R5VqyDs3viw4TYDMyV5ospShezhDr8a8MEqjgYBeoflRva82rKD6pPkiSSVMgM3XCe81WdXrWwrcPXp6HPoq5Nj97Haumx7yDzwVLBwZh+pWI54IdpH2LozJslxeMyhr/52XjtSVKhX9fZg9JTdVo+X40M6uAauaxJhLBzCVVQvxvODnwAejzbSVnAbOZQM+HqO5WfLLwSjioQF4zPlTB6mZe61swf2HvXQJ6NlxVcViIt/UnyZFaejb8e8EK8Ncws2PjMsKhEFCBjnYMnptnb/nHluTn3DGu2gdyA9vaKcuy0d2GWvTYPlsDvIv9+1vCXnO9YlvGoVCCPGPNwu67m5jDO/0kEd/RrLOgecq72ivSlmweSCtZWtr8M8c472NcbgpAI5xiPf5YaNtMzeZHgdTlRx1zou/BCfjN3Otuh5o90+Z94c7Wcf95DK09kxmfD11WUc1/H6FWQdlxm3du0V+XSAIkSYiGnl8eir5PqV8aW06l5fAlSbD62U7CnRQ/SYt8PoLcK06TrZgF2WRhmBrbQhnqQe47uIxHQf9C8mqzIl3VQ+KVYS1VWPsW+dbb/RVkFxAiv48fMAeVJg36vOH1mPUS3KtdJwcNJQlYXZjo/PKMNgWoKv51hO0HyXEcoSlCQ4DyJMyFhuMkcufXmmBYTB4kQRRbOpLq8WO0ztMpRwpt0kTlxT3CVBKACwBzN4NKL0w6n158awZfhwGeoweaCSyhL6QXayVWGI3W2Q47fA9dWFs2cVSsYpT4oNl8loE4K6KraD7IJ41USVbzpC/kedq0kMvTVwS2Xg9OksY+OcHlupQ1+FoZNmTr2bkHRVJN/A8bFGfzQMnnRW/bbbQDEC6ygDMfSU+PaMr0b7fjVr9BvHj1JF0iN3WHsgwzu/8tbAodrAghwLyWBRhODTWXmGd68NvEwYVQ6uHWMJ12qoI/c6/TbqwOX69Kyk22Ydeh1DHSA07DCOMK5d1SgR4ZRYhVMZLsM8ST9EEtZSM/xcJwyZhl5i+KjoVdqDooquUrUgBSP2pmewuc56pjxx41xD2UslYaOfuEwMCToXFTji6CpGrgJuxpcye4SOoeoUeg3qDSzAYiIL0hfwJvzyGHKni+hcSGJaAqdauG88CkNVDv39eWueht0o+Njxxk4y799nqISiwaOgoIRK0f/cmFiGkvFN+5yF7cQUGPF1TE4ijWNjjntJlVgkFH2HrdGSy2oRh4wCrjCI3XCHhRDIm5dYm7yIph+/EKpC5Lv9gRryvYelRsv1hpIqWM9ZKPeuQ5Zr9OqJgfOJMpyvjkdTGULG2vwmVyVcY6vm8DuxoVqOCcFhT3JYieeGDxe8dr+hKgRcCT8zmGe8pqrEjjbX62UwsULepw4RK6kKebsGSIvBevead+tup2np49iR4ZkVe7E095rryHU8OWDasKsGcd7TESYQanSC7OaSEyRHGB35ATMrkvwEDD+6XiKR3d7MgBcfwqkGxdZsqQiT9e71ZJw11aMJdxP4eQHETiu8dVhUgWEJipIU91ozjlgfScIoq8DInlQhR5lFODdiHqKa7p+drrgCpwrop44yq/htmep9uBNrUiKO6oTejbYnDtw+FVSC5ntIx1rDCnPXStToEfY6C5s6WFsw0iwCkephawsb6ayfWc9+EqFs+xGT2KVmPVhP9iRiUdmkZysOhHSvvQuxW0p493h1Zz8r+/e9094Fou/3K+xgDFjY1Vbbfu2ilux5573Bwv5bD2EVViPJlbQ+b/6HMgqsSv2hshe+qUBVyVWQX2tV9iCK5dO25QTCjUgNksK7G9MMFifbqvfhthgkLU1rYhMRZD3vsb0V2rJ7CggwXK+ClicQZzrYLmwrf0c8DrqzjRTJymuFEVpDBttfeu1hRxPbFHvu7rVdiCfio7OsKqb0JHyiZWtrGkd8U6h1+sXyF+YWvtClepteR2wuo81XYV/XURZstoopjWi5npnmhTl2n4hzgJ1NErk5o45wElLYVwbmBHIDTEmmA60EI7t32UIetjTSdNPPG3ITHOs6st6Et0L9psTGVrdtsQyW74AVe816nNQ+hGky7I2WCSMbO7RuJE1HGmHTSfNdNFi9ywJTCc2cSXqSV8m071XYGftamXiq2DGz6tQPC3BsvmTeA65C3Ad0qREZbKz5oEIXmBo0b6qO+Ft0oFMQz+ZdtlG7SHDhpW7YV+UPoliaAU7ORWqgxTTxX7F5h4IgrMWvNqdKJNtrm5GdxU1ttQ7Sj5HV0NW7a40Hldm7y7meZ25tVcOJh+i3w9Y4wMrEk8Xwqks39grOlbU72JPHfNzGSnLJbMHSLqG4O5sS3DST5GCNHFso2c7eU3H2MYvortVJthbCy2VnraR8fPRudVHrSnyFlDNDMyN793kjZAMtkOGsPy+2tgMYsb60XEQH07bLYO8eU7DusDRkA1rwaXo8tpYVYye1m4ibL7jfuJDC0rn+BfGiyS1pbPo07O3PITYL5FZS7t0rLncRlr7kSW9t9lQdyefMkzzyUqjE0vJi1D9NM2IrKafWmeZ9JQGOrZcvdqzLMvz4xoTnxpy5e2PotAg7Y5FOZRGfd+YEUmsj1fpVbH3BDOxrFSGAJxn0yxzgWNsBFmsNuw3B/GD4AHHfu7J1j3eDnfROtpM90yazwMje4ls3EcVBtAsC/c5ax92w9SIS8mZxEeMD9DvrDRnszc4NdtoaOaXdNWSZMLL12Wvzm5hnMcGxv5nZ3J/9zOJIIOZdXIffrD0o3ACx7u75sLGY2dvlkx1jXg7miQXD9uUUbL1m2M81t1aSvdXoUt8ENwN781IaqPy4nXWE4k1Pktva6WtzrBwvfFOCmpEaO0Cq1qP1jzQLe6M4vjKE19Iip7mkBIRqU4H+UyEBO9fqu/pgkjaalOXelboDjs0ZEuJK7KkrZddGsnjJcYRC7Oxca+SQO7uIJbAE3yji2dwm7DtuYl2qxrkOvRM792jE3lY1STwpdmsTWWBhczGuQ6TpIiGZRpkVRjbOZWJnveuJDe0vbr81Ntd+fbeEv0U2QBhx572z84Scu8GPE4ipaYF7Go3Nbfy7wZ5mDSSm8Apby52dW+iHHRuK4iJaI4n479jcwdmI3ywQDQdEhr3hIEhh53wxYrJknObwO7E5L/G4Bw25cNN1hwVWvhiH1bnTQaoQXZVu+I4hnGxnd6bCVqVjhZRnmnTsPJm9d2fvQSImPkwlKK2oIBGLM6UtL/wnB3chmh7We+jTalng47JwFikKYNnWq+XSxhaN0oo7U09FnUk5jBKq9WAMrdi5NYG6aasRRzLKwaUb8yJMA3DszvQKSdswroa7sdPdK8fCKY3wePFURHMh7NKT1eTjszlOmbx8o10k0jE2M740BQunrZeKiYCZM3WkQmx8TM/i+lmd6WGtyB6iJahmNp1YuDILt+hRe8g4zFnuJcYF1Fq93ewuLoDDat2pFVRhHFXHKu3HEWbjilB2HJtTNLEKq8PyxMPu4mqfGuv0i1z50ezcopNScJSTiEaWZdAMHCeM7K5A+oHC1BDTxNi5xaXG49A3ka0xyvaacfXsTqdsA2k5yKa0ddiVEc/Gc5UfYFcxKJHEEElwmawOsml4JQYJB1oZFjbOaKsyGAnq90D+BzZHfWy2TgZTUB19VXbO+2Ew4tYbYXtsPQ+GjbjnUdk4t4QRZxfJhfQO0wbuht3psA9Tu4m8EXc9Km6JjbPLVhl+yq6d3W36W8IXZdiIw/XGztlxaww/ZSP0xvYYvjcGXiEb524wbBORzG57Y3vsenSGjbj92nE3bJzt1M7wU7bH0djdpZMFexhVJG/EoWpn49TH1usgEiCONBu7S5c0YqRRTAFEtlkG6rNxtlgnMemhujjybJjyIYXFyXfGyKOI1YmJYluqg52zmTQYjOL4YCuVBVqCxUlLHOQUIYDIZoqwc34ZCWcubTK84Vsb79LhbzrKYRYnz/mLDtd7DKnk6TTTptNg5wyZp41Yf76Z89lYnsyX6SRh+2XsnCGykHHqJJYnOieZB2bjXCYGz7McLFIYyJuFnbOxNNksg0fBZbJxNpomm2WjebFzNpwmm2UjabFzNpgWm2VDabJx6mNTWUzsFdOm82DjXox4P3otz07htfq9jAoj+6YgUSlFs86bFM6z0j48KSm0lALMbLwgmx0MkYFzmRvHW1mn8HFf6M521DrsZhZOVDEQNhDnnSVp01inaJPubINR8MqiWHk56txFYke9J+lNNhk2qxSbSZ+0495wkZzZzM67i8cn2vNur3ADaX5DVimf9RXuZdXCHGzeHgei7JcCFiqXwu7rYIsz1r9Mlin1jZyZOovaf9T+o/Yftf+o/UftP2r/UfuP2n/U/qP2H7X/qP1H7T9q/1H7j9p/1P6j9h+1/6j9R+0/av9R+4/af9T+o/Yftf+o/UftP2r/UfvPs2bEDAA=");
        try {
            Log.i("Nuevo Usuario: ", usuario.toString());
            iUsuarioDao.save(usuario);
            return true;
        } catch (Exception e) {
            e.printStackTrace();
            return false;
        }
    }
    @DeleteMapping(value = "/{id}")
    public boolean deleteUser(@PathVariable("id") Integer id) {
        try {
            iUsuarioDao.deleteById(id);
            System.out.println("Usuario eliminado correctamente");
            return true;
        } catch (Exception e){
            e.printStackTrace();
            return false;
        }
    }

    @PostMapping("/login")
    public Usuario login(@RequestBody Usuario user) {
        for (Usuario usuario:getUsers()){
            if (usuario.getCorreoElectronico().equals(user.getCorreoElectronico()) && user.getContrasena().equals(usuario.getContrasena())){
                return usuario;
            }
        }
        return null;
    }
    @PutMapping("/update/{id}")
    public ResponseEntity<Usuario> updateUser(@PathVariable Long id, @RequestBody Usuario user) {
        Optional<Usuario> optionalUser = iUsuarioDao.findById(Math.toIntExact(id));
        if (optionalUser.isEmpty()) {
            return ResponseEntity.notFound().build();
        }
        Usuario existingUser = optionalUser.get();
        existingUser.setNombre(user.getNombre());
        existingUser.setApellidos(user.getApellidos());
        existingUser.setCorreoElectronico(user.getCorreoElectronico());
        existingUser.setContrasena(user.getContrasena());
        existingUser.setImagen(user.getImagen());
        // Actualiza los demás campos según sea necesario
        Usuario updatedUser = iUsuarioDao.save(existingUser);
        return ResponseEntity.ok(updatedUser);
    }
}
